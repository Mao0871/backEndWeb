<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Back category management system</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./css/styleBackLogin.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
</head>

<body>
    <nav class="navbar navbar-expand-lg bg-white fixed-top navbar-custom" data-bs-theme="dark">
        <div class="container-fluid">
            <div class="logo-wrapper">
                <img class="logo" src="./image/Logo.png" alt="Logo">
            </div>
            
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
                <div class="navbar-nav">
                    <a class="nav-link text-dark" href="/goods-management">Product</a>
                    <a class="nav-link text-dark" href="/sell-history">Sell History</a>
                    <a class="nav-link text-dark" href="/best-seller">BestSeller</a>
                    <a class="nav-link active text-dark nav-link-bold" href="/category-management">Category</a>
                </div>
            </div>
        </div>
    </nav>

    <div class="main-content">
        <div style="border-top: 1px solid grey; padding-top: 10px; background-color: black;">
            <div class="container-fluid">
                <h5 style="color: white">Category Management</h5>
            </div>
        </div>

        <div class="container-fluid mt-3">
            <table class="table" id="categoryTable">
                <thead>
                    <tr>
                        <th style="width: 250px;">Name</th>
                        <th style="width: 300px;">Category ID</th>
                        <th style="width: 300px;">Explain</th>
                        

                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><input type="text" value="men" class="form-control"></td>
                        <td>001</td>
                        <td><input type="text" value=" " class="form-control"></td>
                        <td class="text-end">
                            <div class="d-flex justify-content-end">
                                <button class="btn btn-primary me-2" onclick="window.location.href = 'BackSub_CategoryMana.html';">Edit</button>
                                <button class="btn btn-primary me-2">Save</button>
                                <button class="btn btn-danger">Delete</button>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <button id="add-category-btn" style="position: fixed; bottom: 20px; right: 20px; width: 55px; height: 55px; border: none; background-color: transparent; cursor: pointer;" onclick="promptNewCategoryName()">
        <svg xmlns="http://www.w3.org/2000/svg" width="55" height="55" viewBox="0 0 55 55" fill="none">
            <path d="M27.5002 50.4167C40.1567 50.4167 50.4168 40.1566 50.4168 27.5C50.4168 14.8435 40.1567 4.58337 27.5002 4.58337C14.8436 4.58337 4.5835 14.8435 4.5835 27.5C4.5835 40.1566 14.8436 50.4167 27.5002 50.4167Z" stroke="#21272A" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M27.5 18.3334V36.6667" stroke="#21272A" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M18.3335 27.5H36.6668" stroke="#21272A" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
    </button>
    
    <script>
        function promptNewCategoryName() {
            const newName = prompt("Please enter the new category name:");
            if (newName) {
                addCategoryRow(newName);
            }
        }

        function addCategoryRow(newName) {
            const table = document.getElementById('categoryTable').getElementsByTagName('tbody')[0];
            const newRow = table.insertRow(table.rows.length);
            const cell1 = newRow.insertCell(0);
            const cell2 = newRow.insertCell(1);
            const cell3 = newRow.insertCell(2);

            let highestId = 0;
            for (let i = 0; i < table.rows.length; i++) {
                const id = parseInt(table.rows[i].cells[1].innerText);
                if (id > highestId) {
                    highestId = id;
                }
            }
            const newId = (highestId + 1).toString().padStart(3, '0');

            cell1.innerHTML = `<input type="text" value="${newName}" class="form-control">`;
            cell2.textContent = newId;
            cell3.innerHTML = '<div class="d-flex justify-content-end"><button class="btn btn-primary me-2">Edit</button><button class="btn btn-danger">Delete</button></div>';
        }
    </script>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
</body>
</html>
